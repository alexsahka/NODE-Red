<!--
  Jo Torsmyr
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
  http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="login">
    <div class="form-row">
        <label for="node-input-username"><i class="icon-tag"></i> Username</label>
        <input type="text" id="node-input-username" placeholder="Username">
    </div>
    <div class="form-row">
        <label for="node-input-password"><i class="icon-tag"></i> Password</label>
        <input type="password" id="node-input-password" placeholder="Password">
    </div>
    <div class="form-row">
        <label for="node-input-debug"><i class="icon-tag"></i> Console log</label>
        <input type="checkbox" id="node-input-debug" placeholder="Debug">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<script type="text/x-red" data-help-name="login">
    <h4>Telenor SMS login</h4>
    <p>Login to Telenor Mine sider (my pages). It is required to login to use
      the other Node-RED Telenor SMS nodes (Send SMS, SMS free count status, SMS message archive).</p>
    <h4>Input parameters</h4>
    <p>Parameters can either be provided in the nodes property GUI, or using Node-RED msg URI query parameters, or secondly JSON payload</p>
    <ul>
      <li>Query parameters</li>
        <p>URI: ?username=&lt;Telenor username&gt;&password&lt;your password&gt;</p>
        <p>Resulting in: msg.payload.username=&lt;Telenor username&gt;, msg.payload.password=&lt;your password&gt;</p>
      <li>JSON payload</li>
        <p>Payload: { "username" : "Telenor username", "password" : "your password" }</p>
      <li>JSON response</li>
        <p>Output success: {"loggedIn" : true, "name" : &lt;Telenor profile name&gt;,
          "cell" : &lt;Telenor cell phone number&gt;}</p>
        <p>Output failed: {"loggedIn" : false}</p>
    </ul>
</script>

<script type="text/javascript">
    RED.nodes.registerType('login', {
        category : 'telenorsms',
        color : 'LightSkyBlue',
        defaults: {
            debug : {value : true },
            name : {value : ''},
            username : {value : ''},
            password : {value : ''}
        },
        inputs : 1,
        outputs : 1,
        icon : 'telenor.png',
        label : function() {
            return this.name || 'login';
        },
    });
</script>
